<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="https://fonts.googleapis.com/css?family=Slabo+27px" type="text/css" rel="stylesheet">
 		<!-- CSS necessary for code to work as expected -->
		<style type="text/css">
			* {
				font-family: 'Slabo 27px', serif;
			}
			html, 
			body {
				font-family: 'Slabo 27px', serif;
				margin: 0;
				overflow: hidden;
				height: 100%;
			}
			.bottom-text, #top-text-wrapper {
				display: inline-block;
				width: 12em;
				font-size: 14pt;
				text-align: center;
				left: 50%;
				transform: translate(-50%, 0%);
				position: absolute;
			}
			#top-text-wrapper {
				top: 1%;
				display: flex;
				flex-direction: column;
				align-items: center;
			}
			#top-text-wrapper > * {
				margin-top: 1em;
				margin-bottom: 1em;
			}
			.bottom-text {
				bottom: 13%;
			}
			#instructions {
				display: block;				 
			}
			#message {
				display: none;
			}
			#btn, a {
				background: #E0E0E0;
				border: none;
				border-radius: 3em;
				outline: none;
				padding: .5em;
			}
			#copy-confirmation {
				display: none;
				font-size: 9pt;
			}
			#btn {
				display: none;
				top: 5%;
				width: 13em;
				font-size: 12pt;
			}
			#plain-text-url {
				display: none;
				font-family: Courier, serif;
				font-size: 7pt;	
				word-break: break-all;
				/* Make it easier to select text (especially on mobile) */
				-webkit-user-select: all;
				-moz-user-select: all;
				user-select: all;
			}
			#reset {
				bottom: 5%;
				text-decoration: none;
				width: 8em;
				color: black;
			}
			#btn:hover, a:hover {
				background: #EAEAEA;
			}
			#btn:active, a:active {
				background: #AAAAAA;
			}
			#make_your_own {
				display: none;
				position: absolute;
				bottom: 10em;
				left: 50%;
				margin-left: -5em;
			}
			canvas[resize] {
				width: 100%;
				height: 100%;
			}
			@media (min-width:320px) and (max-width:800px) and
			(-webkit-device-pixel-ratio: 3) {
				p, a, #btn {
					font-size: 1em;
				}
				#btn {
					top: 3%;
					width: 16em;
				}
				#copy-confirmation {
					top: 6%;
				}
				#plain-text-url {
					top: 15%;
					width: 90%;
				}
				.bottom-text {
					bottom: 11%;
					width: 15em;
				}

			}
			@media (min-width:320px) and (max-width:800px) and
			(-webkit-device-pixel-ratio: 2) {
				p, a, #btn {
					font-size: 1em;
				}

				#btn {
					top: 3%;
					width: 16em;
				}
				#copy-confirmation {
					top: 6%;
				}
				#plain-text-url {
					top: 15%;
					width: 90%;
				}
				.bottom-text {
					bottom: 11%;
					width: 15em;
				}

			}
		</style>
		<script type="text/javascript" src="bower_components/paper/dist/paper-full.min.js"></script>
	</head>
	<body>
		<div id="top-text-wrapper">
			<button id="btn" data-clipboard-text="" data-clipboard-action="copy">
				Copy URL to clipboard to share
			</button>
			<p id="copy-confirmation">Copied!</p>
			<code id="plain-text-url"></code>
		</div>
		<canvas id="myCanvas" resize="true"></canvas>
		<p id="instructions" class="bottom-text">Click to make petals.</p>
		<p id="message" class="bottom-text">
			Someone made you this flower because they care about
			you.<br />Hope it made you smile.
		</p>
		<a id="reset" href="" class="bottom-text" onclick="window.location.href = window.location.href.split('#')[0];">Start over</a>
		<!-- Trigger -->
		<script type="text/javascript" src="./bower_components/clipboard/dist/clipboard.min.js"></script>
		<script type="text/paperscript" src="./flower.js" canvas="myCanvas"></script>
		<script type="text/javascript">
			var button = document.getElementById("btn");
			var clipboard = new Clipboard(button);
			var copyConfirmationText = document.getElementById("copy-confirmation");
			clipboard.on('success', function(e) {
				copyConfirmationText.style.display = 'inline-block';
			});
			clipboard.on('error', function(e) {
				copyConfirmationText.innerHTML = "Didn't work...\nTry copying the url below.";
				copyConfirmationText.style.display = 'inline-block';
			});
		</script>
	</body>
</html>

